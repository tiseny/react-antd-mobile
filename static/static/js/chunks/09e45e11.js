webpackJsonp([4],{RVpt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("Zx67"),r=n.n(o),l=n("Zrlr"),c=n.n(l),u=n("wxAW"),s=n.n(u),d=n("zwoO"),h=n.n(d),p=n("Pf15"),m=n.n(p),f=n("U7vG"),g=n.n(f),v=n("KSGD"),y=n.n(v),E=n("1cZb"),b=n.n(E),k=n("yF52"),_=n.n(k),w=n("IidI"),x=n.n(w),C=n("ExGt"),S=n.n(C),j=n("2KeS"),z=n("4n+p"),I=(n.n(z),n("rBzu")),L=function(e){function t(e){c()(this,t);var n=h()(this,(t.__proto__||r()(t)).call(this,e));return n.state={pageSize:10},n}return m()(t,e),s()(t,[{key:"componentWillMount",value:function(){this.props.onChangeBreadcrumb([{name:"邮件模版管理"}]),this.props.onChangeButtons([{text:"新增邮件模版",icon:"plus",func:this.handleAddEmail.bind(this)}]),this.props.onChangeSearch({searchPlaceHolder:"",searchKeyword:"",searchFunc:null})}},{key:"componentDidMount",value:function(){this._getList()}},{key:"render",value:function(){var e=this,t=this.props,n=t.emailList,a=t.emailPage,i=t.emailTotal,o=t.pending,r=[{title:"名称",dataIndex:"name"},{title:"主题",dataIndex:"subject"},{title:"发送方式",dataIndex:"send_mode"},{title:"操作",key:"actions",width:60,render:function(t,n){return g.a.createElement("span",null,g.a.createElement(S.a,{title:"编辑"},g.a.createElement(x.a,{shape:"circle",icon:"edit",onClick:e.handleEditEmail.bind(e,n)})))}}];return g.a.createElement("div",{className:"modules-page-container has-padding"},g.a.createElement(_.a,{loading:o,pagination:{showQuickJumper:!1,current:a,defaultCurrent:a,total:i,onChange:function(t){e._getList(t,"")},showTotal:function(e,t){return t[0]+"-"+t[1]+" / 共计"+e+"个项目"}},rowKey:"id",dataSource:n,columns:r}))}},{key:"handleAddEmail",value:function(){this.context.router.push("/email/detail")}},{key:"handleEditEmail",value:function(e){this.context.router.push("/email/detail/"+e.id)}},{key:"_getList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.pageSize;this.props.actions.fetchEmailList({page:e,keyword:t,page_size:n},function(e){e.result||b.a.error(e.msg,1.5)})}}]),t}(g.a.PureComponent);L.contextTypes={router:y.a.object.isRequired};var P=function(e){return i()({},e.email)},A=function(e){return{actions:Object(j.bindActionCreators)(I.a,e)}};t.default=Object(z.connect)(P,A)(L)}});