webpackJsonp([0],{"1ArG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("Zx67"),r=n.n(o),l=n("Zrlr"),u=n.n(l),s=n("wxAW"),c=n.n(s),p=n("zwoO"),d=n.n(p),h=n("Pf15"),f=n.n(h),m=n("U7vG"),g=n.n(m),v=n("KSGD"),y=n.n(v),A=n("1cZb"),_=n.n(A),O=n("yF52"),b=n.n(O),k=n("IidI"),E=n.n(k),x=n("4+dr"),w=(n.n(x),n("LoBt")),C=n.n(w),I=n("ExGt"),L=n.n(I),D=n("2KeS"),M=n("4n+p"),P=(n.n(M),n("T3Ei")),S=function(e){function t(e){u()(this,t);var n=d()(this,(t.__proto__||r()(t)).call(this,e));return n.state={pageSize:10},n}return f()(t,e),c()(t,[{key:"componentWillMount",value:function(){this.props.onChangeBreadcrumb([{name:"open Api管理"}]),this.props.onChangeButtons([{text:"新增 open Api",icon:"plus",func:this.handleAddOpenApi.bind(this)}]),this.props.onChangeSearch({searchPlaceHolder:"",searchKeyword:"",searchFunc:null})}},{key:"componentDidMount",value:function(){this._getList()}},{key:"render",value:function(){var e=this,t=this.props,n=t.openapiList,a=t.openapiPage,i=t.openapiTotal,o=t.pending,r=[{title:"接口名字",dataIndex:"name"},{title:"url",dataIndex:"upstream_url"},{title:"路由地址",dataIndex:"uris"},{title:"请求方法",dataIndex:"methods"},{title:"操作",key:"actions",width:60,render:function(t,n){return g.a.createElement("span",null,g.a.createElement(L.a,{title:"编辑"},g.a.createElement(E.a,{shape:"circle",icon:"edit",onClick:e.handleEditOpenApi.bind(e,n)})),g.a.createElement(C.a,{title:"删除后不可恢复，确认继续删除吗？",onConfirm:e.handleDeleteOpenApi.bind(e,n)},g.a.createElement(L.a,{title:"删除"},g.a.createElement(E.a,{shape:"circle",style:{marginLeft:10},icon:"delete"}))))}}];return g.a.createElement("div",{className:"modules-page-container has-padding"},g.a.createElement(b.a,{loading:o,pagination:{showQuickJumper:!1,current:a,defaultCurrent:a,total:i,onChange:function(t){e._getList(t,"")},showTotal:function(e,t){return t[0]+"-"+t[1]+" / 共计"+e+"个项目"}},rowKey:"id",dataSource:n,columns:r}))}},{key:"handleAddOpenApi",value:function(){this.context.router.push("/openapi/detail")}},{key:"handleEditOpenApi",value:function(e){this.context.router.push("/openapi/detail/"+e.id)}},{key:"handleDeleteOpenApi",value:function(e){this.props.actions.deleteOpenApi(e.id,function(e){e.result?_.a.success(e.msg,1.5):_.a.error(e.msg,1.5)})}},{key:"_getList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.pageSize;this.props.actions.fetchOpenApiList({page:e,keyword:t,page_size:n},function(e){e.result||_.a.error(e.msg,1.5)})}}]),t}(g.a.PureComponent);S.contextTypes={router:y.a.object.isRequired};var j=function(e){return i()({},e.openapi)},G=function(e){return{actions:Object(D.bindActionCreators)(P.a,e)}};t.default=Object(M.connect)(j,G)(S)},"4+dr":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),o=a(i),r=n("bOdI"),l=a(r),u=n("U7vG"),s=a(u),c=n("HW6M"),p=a(c),d=n("JkBm"),h=a(d),f=function(e){var t=e.type,n=e.className,a=void 0===n?"":n,i=e.spin,r=(0,p.default)((0,l.default)({anticon:!0,"anticon-spin":!!i||"loading"===t},"anticon-"+t,!0),a);return s.default.createElement("i",(0,o.default)({},(0,h.default)(e,["type","spin"]),{className:r}))};t.default=f,e.exports=t.default}});